document.addEventListener('DOMContentLoaded', (event) => {
	var display = document.getElementById('select');
	var message = document.getElementById('message');

	var demo = document.getElementById('demo');
	demo.onclick = function(){
		try{
			var svg = window.SvgNest.parsesvg(demoSvg);
			display.appendChild(svg);
		}
		catch(e){
			message.innerHTML = e;
			message.className = 'error animated bounce';
			return;
		}			
		
		hideSplash();
		message.className = 'active animated bounce';
		
		const demoRect = document.getElementById('demo-rect');
		window.SvgNest.setbin(demoRect);
		var start = document.getElementById('start');
		
        if(window && window.sessionStorage) {
			window.sessionStorage.setItem("dxfSize", "M");
            window.sessionStorage.setItem("dxfFilename", "demo.dxf");
        }

		start.className = 'button start animated bounce';
		message.className = '';
	};

	function hideSplash(){
		var splash = document.getElementById('splash');
		var svgnest = document.getElementById('svgnest');
		if(splash) {
			splash.remove();
		}
		svgnest.setAttribute('style','display: block');
	}

	const demoSvg = `<svg baseProfile="full" height="1788.0718867" version="1.1" viewBox="0 0 1450.84021 1788.0718867" width="1450.84021" xmlns="http://www.w3.org/2000/svg">
	  <polygon class="polygon" fill="white" id="29-m" points="645.954 338.173 636.154 418.483 641.563 419.163 646.674 420.023 651.493 421.033 656.044 422.183 660.324 423.483 664.364 424.903 668.164 426.443 671.743 428.093 675.114 429.843 678.274 431.673 681.253 433.593 684.063 435.573 686.714 437.623 689.214 439.713 691.574 441.853 693.813 444.013 695.943 446.203 697.974 448.403 699.924 450.603 701.804 452.803 703.614 454.973 705.383 457.123 707.123 459.233 708.834 461.303 710.544 463.303 712.243 465.253 713.974 467.113 715.724 468.893 717.514 470.583 721.054 474.433 724.554 478.043 728.014 481.423 731.443 484.573 734.824 487.513 738.164 490.243 741.464 492.773 744.704 495.113 747.894 497.273 751.034 499.253 754.114 501.073 757.133 502.733 760.104 504.243 763.003 505.603 765.834 506.843 768.594 507.953 771.284 508.943 773.904 509.833 776.454 510.613 778.914 511.313 781.304 511.923 783.604 512.453 785.813 512.923 787.943 513.333 789.984 513.693 791.924 514.013 793.774 514.293 795.524 514.553 797.174 514.793 801.304 515.273 805.404 515.633 809.454 515.863 813.454 515.963 817.414 515.953 821.334 515.813 825.193 515.563 828.993 515.203 832.743 514.723 836.433 514.143 840.063 513.453 843.633 512.653 847.133 511.753 850.563 510.753 853.924 509.653 857.214 508.463 860.424 507.183 863.563 505.803 866.614 504.343 869.584 502.793 872.474 501.153 875.274 499.443 877.984 497.653 880.604 495.783 883.123 493.843 885.003 492.283 885.554 491.823 887.873 489.743 890.104 487.593 892.224 485.373 894.954 482.783 897.554 480.143 900.054 477.473 902.454 474.783 904.784 472.073 907.044 469.343 909.264 466.623 911.443 463.893 913.614 461.173 915.774 458.473 917.954 455.783 920.154 453.133 922.404 450.513 924.704 447.923 927.074 445.393 929.534 442.913 932.094 440.493 934.774 438.133 937.584 435.853 940.544 433.653 943.664 431.533 946.954 429.513 950.443 427.583 954.133 425.763 958.054 424.063 962.204 422.473 966.604 421.003 971.274 419.673 976.214 418.483 966.604 338.183 957.294 338.783 947.674 339.343 937.774 339.863 927.614 340.353 917.214 340.803 906.594 341.223 895.764 341.593 884.753 341.933 873.594 342.223 862.274 342.483 850.834 342.693 839.294 342.863 827.664 342.983 815.974 343.063 804.234 343.093 792.474 343.083 780.693 343.013 768.933 342.903 757.204 342.743 745.534 342.533 733.924 342.263 722.404 341.953 711.003 341.573 699.724 341.153 688.594 340.673 677.633 340.133 666.864 339.533 656.294 338.883" stroke="black"/>
	  <polygon class="polygon" fill="white" id="61-m" points="964.101 74.813 973.901 155.123 968.491 155.803 963.381 156.663 958.56 157.673 954.011 158.823 949.721 160.123 945.69 161.543 941.891 163.083 938.31 164.733 934.94 166.483 931.781 168.313 928.8 170.233 925.991 172.213 923.341 174.263 920.841 176.353 918.481 178.493 916.241 180.653 914.111 182.843 912.081 185.043 910.131 187.243 908.251 189.443 906.44 191.613 904.67 193.763 902.93 195.873 901.221 197.943 899.511 199.943 897.81 201.893 896.081 203.753 894.331 205.533 892.541 207.223 889.001 211.073 885.501 214.683 882.041 218.063 878.611 221.213 875.231 224.153 871.891 226.883 868.591 229.413 865.351 231.753 862.161 233.913 859.021 235.893 855.94 237.713 852.92 239.373 849.951 240.883 847.05 242.243 844.221 243.483 841.461 244.593 838.771 245.583 836.151 246.473 833.601 247.253 831.141 247.953 828.751 248.563 826.451 249.093 824.241 249.563 822.111 249.973 820.07 250.333 818.131 250.653 816.281 250.933 814.531 251.193 812.881 251.433 808.751 251.913 804.651 252.273 800.601 252.503 796.601 252.603 792.641 252.593 788.721 252.453 784.861 252.203 781.06 251.843 777.31 251.363 773.621 250.783 769.991 250.093 766.42 249.293 762.92 248.393 759.491 247.393 756.131 246.293 752.841 245.103 749.631 243.823 746.491 242.443 743.44 240.983 740.471 239.433 737.581 237.793 734.781 236.083 732.07 234.293 729.451 232.423 726.93 230.483 725.05 228.923 724.501 228.463 722.18 226.383 719.951 224.233 717.831 222.013 715.101 219.423 712.501 216.783 710.001 214.113 707.601 211.423 705.271 208.713 703.011 205.983 700.791 203.263 698.611 200.533 696.44 197.813 694.281 195.113 692.101 192.423 689.901 189.773 687.651 187.153 685.351 184.563 682.981 182.033 680.521 179.553 677.961 177.133 675.281 174.773 672.471 172.493 669.511 170.293 666.391 168.173 663.101 166.153 659.611 164.223 655.921 162.403 652.001 160.703 647.851 159.113 643.451 157.643 638.781 156.313 633.841 155.123 643.451 74.823 652.761 75.423 662.381 75.983 672.281 76.503 682.44 76.993 692.841 77.443 703.461 77.863 714.291 78.233 725.3 78.573 736.461 78.863 747.781 79.123 759.221 79.333 770.761 79.503 782.391 79.623 794.081 79.703 805.82 79.733 817.581 79.723 829.361 79.653 841.121 79.543 852.851 79.383 864.521 79.173 876.131 78.903 887.651 78.593 899.05 78.213 910.331 77.793 921.461 77.313 932.42 76.773 943.19 76.173 953.761 75.523" stroke="black"/>
	  <polygon class="polygon" fill="white" id="60-m" points="298.476 586.316 292.546 586.516 286.916 586.906 281.556 587.476 276.476 588.236 271.656 589.176 267.086 590.296 262.776 591.596 258.696 593.086 254.846 594.766 251.216 596.616 247.806 598.656 244.586 600.886 241.566 603.286 238.736 605.886 236.076 608.656 233.596 611.616 231.266 614.766 229.086 618.096 227.056 621.606 225.146 625.306 223.376 629.186 221.716 633.246 220.156 637.506 218.706 641.936 217.336 646.556 216.056 651.366 214.836 656.356 213.686 661.526 212.596 666.886 212.366 666.816 211.676 666.586 210.556 666.226 209.026 665.726 207.106 665.096 204.826 664.336 202.186 663.456 199.236 662.466 195.976 661.356 192.426 660.146 188.626 658.836 184.586 657.436 180.316 655.936 175.866 654.356 171.236 652.706 166.446 650.966 161.526 649.166 156.496 647.306 151.386 645.376 146.196 643.406 140.966 641.376 135.706 639.316 130.446 637.206 125.206 635.066 119.996 632.906 114.856 630.716 109.786 628.516 104.836 626.296 99.996 624.076 102.016 619.056 103.936 614.196 105.746 609.486 107.466 604.916 109.086 600.506 110.626 596.236 112.066 592.106 113.416 588.116 114.686 584.266 115.866 580.556 116.966 576.976 117.996 573.516 118.946 570.196 119.826 566.996 120.636 563.916 121.376 560.956 122.046 558.116 122.656 555.386 123.206 552.766 123.696 550.266 124.136 547.866 124.526 545.576 124.856 543.376 125.136 541.286 125.376 539.286 125.576 537.386 125.736 535.576 125.856 533.856 125.936 532.226 126.036 527.186 125.916 522.356 125.596 517.726 125.086 513.296 124.376 509.066 123.486 505.036 122.426 501.196 121.206 497.536 119.826 494.076 118.306 490.786 116.656 487.676 114.866 484.746 112.966 481.976 110.946 479.386 108.836 476.966 106.626 474.696 104.336 472.586 101.966 470.646 99.536 468.846 97.046 467.196 94.506 465.696 91.926 464.336 89.316 463.116 86.686 462.036 84.036 461.086 81.386 460.266 78.736 459.566 76.096 458.996 73.486 458.546 73.716 454.886 73.936 450.816 74.156 446.356 74.366 441.546 74.566 436.406 74.766 430.966 74.956 425.246 75.136 419.276 75.316 413.096 75.486 406.716 75.656 400.176 75.816 393.496 75.966 386.706 76.106 379.836 76.246 372.906 76.376 365.956 76.506 358.996 76.626 352.066 76.746 345.186 76.856 338.396 76.956 331.706 77.056 325.156 77.146 318.766 77.226 312.566 77.256 307.556 77.216 302.006 77.116 295.946 76.966 289.406 76.756 282.426 76.506 275.036 76.216 267.266 75.886 259.156 75.536 250.726 75.156 242.026 74.766 233.076 74.356 223.916 73.946 214.576 73.536 205.086 73.126 195.486 72.726 185.796 72.346 176.066 71.986 166.326 71.646 156.596 71.346 146.926 71.076 137.326 70.856 127.856 70.686 118.526 70.566 109.386 70.506 100.456 70.506 91.786 70.586 83.386 70.736 75.306 70.976 67.566 77.896 66.906 84.826 66.256 91.756 65.636 98.706 65.046 105.676 64.476 112.676 63.926 119.716 63.406 126.796 62.896 133.926 62.416 141.116 61.956 148.376 61.526 155.706 61.106 163.116 60.706 170.616 60.326 178.216 59.966 185.906 59.616 193.706 59.296 201.626 58.986 209.676 58.696 217.846 58.416 226.156 58.156 234.616 57.906 243.226 57.676 251.996 57.456 260.926 57.256 270.036 57.066 279.326 56.886 288.806 56.716 298.476 56.566 308.146 56.716 317.626 56.886 326.916 57.066 336.016 57.256 344.956 57.456 353.726 57.676 362.336 57.906 370.786 58.156 379.096 58.416 387.276 58.686 395.316 58.986 403.236 59.286 411.036 59.616 418.736 59.956 426.326 60.326 433.826 60.706 441.236 61.096 448.566 61.516 455.826 61.956 463.016 62.416 470.156 62.896 477.236 63.396 484.276 63.926 491.276 64.476 498.246 65.046 505.196 65.636 512.126 66.256 519.046 66.896 525.976 67.566 526.206 75.296 526.366 83.376 526.436 91.776 526.446 100.456 526.386 109.386 526.266 118.526 526.096 127.846 525.866 137.326 525.606 146.916 525.306 156.596 524.966 166.316 524.606 176.066 524.226 185.796 523.826 195.476 523.416 205.076 523.006 214.566 522.596 223.906 522.186 233.076 521.796 242.016 521.416 250.726 521.066 259.146 520.736 267.266 520.446 275.036 520.196 282.426 519.986 289.406 519.836 295.946 519.736 302.006 519.696 307.556 519.726 312.566 519.806 318.766 519.896 325.146 519.996 331.696 520.096 338.386 520.206 345.186 520.326 352.056 520.446 358.986 520.576 365.946 520.706 372.906 520.846 379.836 520.986 386.706 521.146 393.496 521.296 400.176 521.466 406.716 521.636 413.096 521.816 419.276 521.996 425.246 522.186 430.956 522.386 436.406 522.586 441.546 522.796 446.356 523.016 450.816 523.246 454.886 523.476 458.546 520.856 458.996 518.226 459.566 515.576 460.256 512.926 461.076 510.276 462.026 507.636 463.116 505.026 464.336 502.446 465.686 499.906 467.196 497.416 468.836 494.986 470.636 492.616 472.586 490.326 474.696 488.116 476.956 486.006 479.386 483.996 481.976 482.086 484.736 480.306 487.676 478.646 490.786 477.126 494.066 475.746 497.536 474.526 501.196 473.466 505.036 472.586 509.066 471.876 513.296 471.356 517.726 471.036 522.346 470.926 527.186 471.026 532.226 471.106 533.856 471.226 535.576 471.376 537.386 471.576 539.286 471.816 541.286 472.106 543.376 472.436 545.566 472.816 547.866 473.256 550.256 473.746 552.766 474.296 555.386 474.916 558.106 475.586 560.956 476.326 563.906 477.136 566.986 478.006 570.186 478.966 573.516 479.986 576.966 481.096 580.556 482.276 584.266 483.546 588.116 484.896 592.106 486.336 596.236 487.866 600.506 489.486 604.916 491.206 609.476 493.026 614.186 494.936 619.056 496.956 624.076 492.126 626.296 487.166 628.516 482.106 630.716 476.966 632.906 471.756 635.066 466.516 637.206 461.256 639.306 455.996 641.376 450.766 643.406 445.576 645.376 440.456 647.306 435.426 649.166 430.516 650.966 425.726 652.696 421.096 654.356 416.636 655.936 412.376 657.436 408.336 658.836 404.526 660.146 400.986 661.356 397.726 662.466 394.766 663.456 392.136 664.336 389.846 665.096 387.936 665.726 386.406 666.226 385.286 666.586 384.596 666.806 384.366 666.886 383.266 661.526 382.116 656.356 380.906 651.366 379.626 646.556 378.256 641.936 376.796 637.496 375.246 633.246 373.586 629.186 371.806 625.306 369.906 621.606 367.866 618.086 365.696 614.766 363.366 611.616 360.876 608.656 358.216 605.886 355.386 603.286 352.366 600.886 349.156 598.656 345.736 596.616 342.116 594.756 338.266 593.086 334.186 591.596 329.866 590.296 325.306 589.176 320.486 588.236 315.406 587.476 310.046 586.906 304.406 586.516" stroke="black"/>
	  <polygon class="polygon" fill="white" id="21-m" points="308.132 774.847 244.462 774.867 152.142 774.847 80.632 774.847 80.442 785.497 80.312 796.127 80.252 806.747 80.252 817.327 80.312 827.847 80.422 838.287 80.582 848.647 80.792 858.897 81.032 869.027 81.302 879.017 81.602 888.847 81.932 898.497 82.282 907.967 82.652 917.227 83.022 926.267 83.402 935.057 83.792 943.597 84.172 951.857 84.542 959.827 84.912 967.497 85.252 974.827 85.582 981.827 85.882 988.467 86.142 994.737 86.382 1000.607 86.582 1006.067 86.732 1011.107 86.832 1015.707 86.882 1019.847 86.902 1024.407 86.892 1029.227 86.862 1034.307 86.812 1039.607 86.752 1045.107 86.672 1050.777 86.572 1056.607 86.452 1062.557 86.322 1068.617 86.182 1074.757 86.032 1080.947 85.862 1087.167 85.682 1093.397 85.502 1099.607 85.312 1105.777 85.102 1111.877 84.902 1117.887 84.682 1123.787 84.472 1129.547 84.252 1135.147 84.022 1140.557 83.802 1145.757 83.582 1150.717 83.352 1155.427 83.132 1159.847 86.262 1161.107 89.262 1162.507 92.112 1164.017 94.842 1165.667 97.422 1167.447 99.882 1169.367 102.192 1171.407 104.382 1173.597 106.432 1175.917 108.342 1178.387 110.122 1180.987 111.772 1183.737 113.292 1186.637 114.672 1189.677 115.922 1192.867 117.042 1196.207 118.022 1199.707 118.882 1203.357 119.602 1207.157 120.202 1211.117 120.662 1215.237 120.992 1219.527 121.202 1223.967 121.272 1228.577 121.222 1233.357 121.032 1238.297 120.722 1243.417 120.282 1248.697 119.712 1254.157 119.362 1257.127 118.972 1260.157 118.552 1263.227 118.422 1264.087 118.082 1266.357 117.582 1269.537 117.052 1272.777 116.472 1276.067 115.862 1279.407 115.222 1282.797 114.532 1286.247 113.812 1289.757 113.052 1293.307 112.262 1296.927 111.432 1300.587 110.562 1304.307 109.662 1308.087 108.722 1311.917 107.752 1315.807 106.742 1319.747 105.692 1323.747 104.612 1327.797 103.492 1331.907 102.342 1336.077 101.142 1340.297 99.922 1344.577 98.662 1348.917 97.362 1353.307 96.032 1357.757 94.662 1362.267 99.072 1364.047 103.512 1365.777 107.982 1367.477 112.472 1369.127 116.982 1370.747 121.482 1372.317 125.992 1373.857 130.492 1375.357 134.972 1376.807 139.432 1378.227 143.852 1379.607 148.232 1380.957 152.572 1382.257 156.862 1383.527 161.082 1384.767 165.232 1385.957 169.302 1387.117 173.292 1388.247 177.192 1389.337 180.992 1390.387 184.692 1391.407 188.272 1392.387 191.722 1393.337 195.052 1394.257 198.242 1395.147 201.292 1395.997 204.192 1396.807 206.932 1397.597 209.502 1398.347 211.492 1394.837 213.552 1391.577 215.692 1388.557 217.902 1385.777 220.202 1383.217 222.572 1380.877 225.042 1378.747 227.602 1376.807 230.242 1375.047 232.992 1373.467 235.842 1372.057 238.792 1370.797 241.852 1369.677 245.022 1368.707 248.302 1367.857 251.712 1367.127 255.232 1366.497 258.872 1365.967 262.652 1365.527 266.552 1365.167 270.592 1364.867 274.772 1364.627 279.082 1364.437 283.542 1364.287 288.152 1364.157 292.912 1364.057 297.832 1363.957 302.902 1363.857 308.132 1363.747 313.362 1363.857 318.442 1363.957 323.352 1364.057 328.112 1364.157 332.722 1364.287 337.182 1364.437 341.502 1364.627 345.672 1364.867 349.712 1365.167 353.622 1365.527 357.392 1365.967 361.032 1366.497 364.562 1367.127 367.962 1367.857 371.242 1368.707 374.412 1369.677 377.472 1370.797 380.422 1372.057 383.272 1373.467 386.022 1375.047 388.672 1376.807 391.222 1378.747 393.692 1380.877 396.072 1383.217 398.362 1385.777 400.572 1388.557 402.712 1391.577 404.772 1394.837 406.762 1398.347 409.342 1397.597 412.072 1396.807 414.972 1395.997 418.022 1395.147 421.212 1394.257 424.542 1393.337 428.002 1392.387 431.572 1391.407 435.272 1390.387 439.072 1389.337 442.972 1388.247 446.962 1387.117 451.032 1385.957 455.192 1384.767 459.412 1383.527 463.692 1382.257 468.032 1380.957 472.412 1379.607 476.842 1378.227 481.292 1376.807 485.772 1375.357 490.272 1373.857 494.782 1372.317 499.292 1370.747 503.792 1369.127 508.282 1367.477 512.752 1365.777 517.192 1364.047 521.602 1362.267 520.232 1357.757 518.902 1353.307 517.602 1348.917 516.342 1344.577 515.122 1340.297 513.932 1336.077 512.772 1331.907 511.652 1327.797 510.572 1323.747 509.522 1319.747 508.512 1315.807 507.542 1311.917 506.602 1308.087 505.702 1304.307 504.832 1300.587 504.002 1296.927 503.212 1293.307 502.452 1289.757 501.732 1286.247 501.052 1282.797 500.402 1279.407 499.792 1276.067 499.222 1272.777 498.682 1269.537 498.182 1266.357 497.842 1264.087 497.712 1263.227 497.292 1260.157 496.902 1257.127 496.552 1254.157 495.982 1248.697 495.542 1243.417 495.232 1238.297 495.042 1233.357 494.992 1228.577 495.062 1223.967 495.272 1219.527 495.602 1215.237 496.062 1211.117 496.662 1207.157 497.382 1203.357 498.242 1199.707 499.232 1196.207 500.342 1192.867 501.592 1189.677 502.982 1186.637 504.492 1183.737 506.142 1180.987 507.922 1178.387 509.842 1175.917 511.882 1173.597 514.072 1171.407 516.392 1169.367 518.842 1167.447 521.422 1165.667 524.152 1164.017 527.012 1162.507 530.002 1161.107 533.132 1159.847 532.912 1155.427 532.692 1150.717 532.462 1145.757 532.242 1140.557 532.022 1135.147 531.802 1129.547 531.582 1123.787 531.372 1117.887 531.162 1111.877 530.962 1105.777 530.762 1099.607 530.582 1093.397 530.402 1087.167 530.242 1080.947 530.082 1074.757 529.942 1068.617 529.812 1062.557 529.702 1056.607 529.602 1050.777 529.512 1045.107 529.452 1039.607 529.402 1034.307 529.372 1029.227 529.372 1024.407 529.382 1019.847 529.432 1015.707 529.532 1011.107 529.692 1006.067 529.882 1000.607 530.122 994.737 530.392 988.467 530.692 981.827 531.012 974.827 531.362 967.497 531.722 959.827 532.092 951.857 532.472 943.597 532.862 935.057 533.242 926.267 533.622 917.227 533.982 907.967 534.332 898.497 534.662 888.847 534.962 879.017 535.242 869.027 535.482 858.897 535.682 848.647 535.842 838.287 535.952 827.847 536.012 817.327 536.012 806.747 535.952 796.127 535.832 785.497 535.632 774.847 464.122 774.847 371.802 774.867" stroke="black"/>
	  <polygon class="polygon" fill="white" id="pattern-679514-m" points="660.859 808.561 772.059 808.561 883.259 808.561 880.269 823.561 663.879 823.561" stroke="black"/>
	  <polygon class="polygon" fill="white" id="pattern-983545-m" points="650.722 656.392 782.522 656.392 914.322 656.392 911.322 671.392 653.772 671.392" stroke="black"/>
	  <rect id="demo-rect" width="900" height="1200" fill="none" stroke="#010101"/>
	</svg>`
})