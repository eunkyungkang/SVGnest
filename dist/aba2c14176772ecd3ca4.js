/*! For license information please see aba2c14176772ecd3ca4.js.LICENSE.txt */
!function(t){"use strict";function e(){this.svg,this.svgRoot,this.allowedElements=["svg","circle","ellipse","path","polygon","polyline","rect","line"],this.conf={tolerance:2,toleranceSvg:.005}}e.prototype.config=function(t){this.conf.tolerance=t.tolerance},e.prototype.load=function(t){if(!t||"string"!=typeof t)throw Error("invalid SVG string");var e=(new DOMParser).parseFromString(t,"image/svg+xml");if(this.svgRoot=!1,!e)throw new Error("Failed to parse SVG string");this.svg=e;for(var a=0;a<e.childNodes.length;a++){var r=e.childNodes[a];if(r.tagName&&"svg"==r.tagName){this.svgRoot=r;break}}if(!this.svgRoot)throw new Error("SVG has no children");return this.svgRoot},e.prototype.cleanInput=function(){return this.applyTransform(this.svgRoot),this.flatten(this.svgRoot),this.filter(this.allowedElements),this.recurse(this.svgRoot,this.splitPath),this.svgRoot},e.prototype.getStyle=function(){if(!this.svgRoot)return!1;for(var t=0;t<this.svgRoot.childNodes.length;t++){var e=this.svgRoot.childNodes[t];if("style"==e.tagName)return e}return!1},e.prototype.pathToAbsolute=function(t){if(!t||"path"!=t.tagName)throw Error("invalid path");for(var e=t.pathSegList,a=0,r=0,s=0,i=0,o=0,n=0,c=0,l=0,g=0;g<e.numberOfItems;g++){var h=e.getItem(g).pathSegTypeAsLetter,p=e.getItem(g);if(/[MLHVCSQTA]/.test(h))"x"in p&&(a=p.x),"y"in p&&(r=p.y);else switch("x1"in p&&(o=a+p.x1),"x2"in p&&(c=a+p.x2),"y1"in p&&(n=r+p.y1),"y2"in p&&(l=r+p.y2),"x"in p&&(a+=p.x),"y"in p&&(r+=p.y),h){case"m":e.replaceItem(t.createSVGPathSegMovetoAbs(a,r),g);break;case"l":e.replaceItem(t.createSVGPathSegLinetoAbs(a,r),g);break;case"h":e.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(a),g);break;case"v":e.replaceItem(t.createSVGPathSegLinetoVerticalAbs(r),g);break;case"c":e.replaceItem(t.createSVGPathSegCurvetoCubicAbs(a,r,o,n,c,l),g);break;case"s":e.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(a,r,c,l),g);break;case"q":e.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(a,r,o,n),g);break;case"t":e.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(a,r),g);break;case"a":e.replaceItem(t.createSVGPathSegArcAbs(a,r,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),g);break;case"z":case"Z":a=s,r=i}"M"!=h&&"m"!=h||(s=a,i=r)}},e.prototype.transformParse=function(t){var e,a,r={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},s=/[\s,]+/,i=new Matrix;return t.split(/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/).forEach((function(t){if(t.length)if(void 0===r[t])switch(a=t.split(s).map((function(t){return+t||0})),e){case"matrix":return void(6===a.length&&i.matrix(a));case"scale":return void(1===a.length?i.scale(a[0],a[0]):2===a.length&&i.scale(a[0],a[1]));case"rotate":return void(1===a.length?i.rotate(a[0],0,0):3===a.length&&i.rotate(a[0],a[1],a[2]));case"translate":return void(1===a.length?i.translate(a[0],0):2===a.length&&i.translate(a[0],a[1]));case"skewX":return void(1===a.length&&i.skewX(a[0]));case"skewY":return void(1===a.length&&i.skewY(a[0]))}else e=t})),i},e.prototype.applyTransform=function(t,e){e=e||"";var a=t.getAttribute("transform")||"";if((a=e+a)&&a.length>0)var r=this.transformParse(a);r||(r=new Matrix);var s=r.toArray(),i=180*Math.atan2(s[1],s[3])/Math.PI,o=Math.sqrt(s[0]*s[0]+s[2]*s[2]);if("g"==t.tagName||"svg"==t.tagName||"defs"==t.tagName||"clipPath"==t.tagName){t.removeAttribute("transform");for(var n=Array.prototype.slice.call(t.childNodes),c=0;c<n.length;c++)n[c].tagName&&this.applyTransform(n[c],a)}else if(r&&!r.isIdentity()){const e=t.getAttribute("id"),a=t.getAttribute("class");switch(t.tagName){case"ellipse":var l=this.svg.createElementNS(t.namespaceURI,"path"),g=l.createSVGPathSegMovetoAbs(parseFloat(t.getAttribute("cx"))-parseFloat(t.getAttribute("rx")),t.getAttribute("cy")),h=l.createSVGPathSegArcAbs(parseFloat(t.getAttribute("cx"))+parseFloat(t.getAttribute("rx")),t.getAttribute("cy"),t.getAttribute("rx"),t.getAttribute("ry"),0,1,0),p=l.createSVGPathSegArcAbs(parseFloat(t.getAttribute("cx"))-parseFloat(t.getAttribute("rx")),t.getAttribute("cy"),t.getAttribute("rx"),t.getAttribute("ry"),0,1,0);l.pathSegList.appendItem(g),l.pathSegList.appendItem(h),l.pathSegList.appendItem(p),l.pathSegList.appendItem(l.createSVGPathSegClosePath()),(A=t.getAttribute("transform"))&&l.setAttribute("transform",A),t.parentElement.replaceChild(l,t),t=l;case"path":this.pathToAbsolute(t);var y=t.pathSegList,u=0,m=0;let e="";for(c=0;c<y.numberOfItems;c++){var b=y.getItem(c),x=b.pathSegTypeAsLetter;"H"==x?(y.replaceItem(t.createSVGPathSegLinetoAbs(b.x,m),c),b=y.getItem(c)):"V"==x?(y.replaceItem(t.createSVGPathSegLinetoAbs(u,b.y),c),b=y.getItem(c)):"A"==x&&(y.replaceItem(t.createSVGPathSegArcAbs(b.x,b.y,b.r1*o,b.r2*o,b.angle+i,b.largeArcFlag,b.sweepFlag),c),b=y.getItem(c));const a={};if("x"in b&&"y"in b){var f=r.calc(b.x,b.y);u=b.x,m=b.y,a.x=f[0],a.y=f[1]}"x1"in b&&"y1"in b&&(f=r.calc(b.x1,b.y1),a.x1=f[0],a.y1=f[1]),"x2"in b&&"y2"in b&&(f=r.calc(b.x2,b.y2),a.x2=f[0],a.y2=f[1]);let s="";switch(x){case"M":case"L":case"T":s+=`${x} ${a.x} ${a.y}`;break;case"C":s+=`${x} ${a.x1} ${a.y1}  ${a.x2} ${a.y2} ${a.x} ${a.y}`;break;case"S":s+=`${x} ${a.x2} ${a.y2} ${a.x} ${a.y}`;break;case"Q":s+=`${x} ${a.x1} ${a.y1} ${a.x} ${a.y}`;break;case"A":const t=b.largeArcFlag?1:0,e=b.sweepFlag?1:0;s+=`${x} ${b.r1} ${b.r2} ${b.angle} ${t} ${e} ${a.x} ${a.y}`;break;case"H":case"V":s+=`L ${a.x} ${a.y}`;break;case"Z":case"z":s+=x;break;default:console.log("FOUND COMMAND NOT HANDLED BY COMMAND STRING BUILDER",x)}e+=s}t.setAttribute("d",e),t.removeAttribute("transform");break;case"circle":f=r.calc(t.getAttribute("cx"),t.getAttribute("cy")),t.setAttribute("cx",f[0]),t.setAttribute("cy",f[1]),t.setAttribute("r",t.getAttribute("r")*o);break;case"line":const a=r.calc(t.getAttribute("x1"),t.getAttribute("y1")),s=r.calc(t.getAttribute("x2"),t.getAttribute("y2"));t.setAttribute("x1",a[0].toString()),t.setAttribute("y1",a[1].toString()),t.setAttribute("x2",s[0].toString()),t.setAttribute("y2",s[1].toString());break;case"rect":var A,v=this.svg.createElementNS(t.namespaceURI,"polygon"),S=this.svgRoot.createSVGPoint(),d=this.svgRoot.createSVGPoint(),I=this.svgRoot.createSVGPoint(),k=this.svgRoot.createSVGPoint();S.x=parseFloat(t.getAttribute("x"))||0,S.y=parseFloat(t.getAttribute("y"))||0,d.x=S.x+parseFloat(t.getAttribute("width")),d.y=S.y,I.x=d.x,I.y=S.y+parseFloat(t.getAttribute("height")),k.x=S.x,k.y=I.y,v.points.appendItem(S),v.points.appendItem(d),v.points.appendItem(I),v.points.appendItem(k),(A=t.getAttribute("transform"))&&v.setAttribute("transform",A),t.parentElement.replaceChild(v,t),t=v;case"polygon":case"polyline":let n="";for(c=0;c<t.points.numberOfItems;c++){var w=t.points.getItem(c);n+=`${(f=r.calc(w.x,w.y))[0]},${f[1]} `}t.setAttribute("points",n),t.removeAttribute("transform")}e&&t.setAttribute("id",e),a&&t.setAttribute("class",a)}},e.prototype.flatten=function(t){for(var e=0;e<t.childNodes.length;e++)this.flatten(t.childNodes[e]);if("svg"!=t.tagName)for(;t.childNodes.length>0;)t.parentElement.appendChild(t.childNodes[0])},e.prototype.filter=function(t,e){if(!t||0==t.length)throw Error("invalid whitelist");e=e||this.svgRoot;for(var a=0;a<e.childNodes.length;a++)this.filter(t,e.childNodes[a]);0==e.childNodes.length&&t.indexOf(e.tagName)<0&&e.parentElement.removeChild(e)},e.prototype.splitPath=function(t){if(!t||"path"!=t.tagName||!t.parentElement)return!1;for(var e=[],a=0;a<t.pathSegList.numberOfItems;a++)e.push(t.pathSegList.getItem(a));var r,s=0,i=0,o=0,n=0,c=[],l=0;for(a=e.length-1;a>=0;a--)if(a>0&&"M"==e[a].pathSegTypeAsLetter||"m"==e[a].pathSegTypeAsLetter){l=a;break}if(0==l)return!1;for(a=0;a<e.length;a++){var g=e[a],h=g.pathSegTypeAsLetter;"M"!=h&&"m"!=h||((r=t.cloneNode()).setAttribute("d",""),c.push(r)),/[MLHVCSQTA]/.test(h)?("x"in g&&(s=g.x),"y"in g&&(i=g.y),r.pathSegList.appendItem(g)):("x"in g&&(s+=g.x),"y"in g&&(i+=g.y),"m"==h?r.pathSegList.appendItem(t.createSVGPathSegMovetoAbs(s,i)):("Z"!=h&&"z"!=h||(s=o,i=n),r.pathSegList.appendItem(g))),"M"!=h&&"m"!=h||(o=s,n=i)}var p=[];for(a=0;a<c.length;a++)c[a].pathSegList.numberOfItems>1&&(t.parentElement.insertBefore(c[a],t),p.push(c[a]));return t.remove(),p},e.prototype.recurse=function(t,e){for(var a=Array.prototype.slice.call(t.childNodes),r=0;r<a.length;r++)this.recurse(a[r],e);e(t)},e.prototype.polygonify=function(t){var e=[];switch(t.tagName){case"polygon":case"polyline":for(g=0;g<t.points.numberOfItems;g++){var a=t.points.getItem(g);e.push({x:a.x,y:a.y})}break;case"rect":var r={},s={},i={},o={};r.x=parseFloat(t.getAttribute("x"))||0,r.y=parseFloat(t.getAttribute("y"))||0,s.x=r.x+parseFloat(t.getAttribute("width")),s.y=r.y,i.x=s.x,i.y=r.y+parseFloat(t.getAttribute("height")),o.x=r.x,o.y=i.y,e.push(r),e.push(s),e.push(i),e.push(o);break;case"circle":var n=parseFloat(t.getAttribute("r")),c=parseFloat(t.getAttribute("cx")),l=parseFloat(t.getAttribute("cy"));(p=Math.ceil(2*Math.PI/Math.acos(1-this.conf.tolerance/n)))<3&&(p=3);for(var g=0;g<p;g++){var h=g*(2*Math.PI/p);(a={}).x=n*Math.cos(h)+c,a.y=n*Math.sin(h)+l,e.push(a)}break;case"ellipse":var p,y=parseFloat(t.getAttribute("rx")),u=parseFloat(t.getAttribute("ry")),m=Math.max(y,u);for(c=parseFloat(t.getAttribute("cx")),l=parseFloat(t.getAttribute("cy")),(p=Math.ceil(2*Math.PI/Math.acos(1-this.conf.tolerance/m)))<3&&(p=3),g=0;g<p;g++)h=g*(2*Math.PI/p),(a={}).x=y*Math.cos(h)+c,a.y=u*Math.sin(h)+l,e.push(a);break;case"path":var b=t.pathSegList,x=(b.getItem(0),b.getItem(b.numberOfItems-1),0),f=0,A=0,v=0,S=0,d=0,I=0,k=0,w=0,M=0,N=0,L=0,P=0,F=0;for(g=0;g<b.numberOfItems;g++){var $=b.getItem(g),V=$.pathSegTypeAsLetter;switch(w=x,M=f,N=S,L=d,P=I,F=k,/[MLHVCSQTA]/.test(V)?("x1"in $&&(S=$.x1),"x2"in $&&(I=$.x2),"y1"in $&&(d=$.y1),"y2"in $&&(k=$.y2),"x"in $&&(x=$.x),"y"in $&&(f=$.y)):("x1"in $&&(S=x+$.x1),"x2"in $&&(I=x+$.x2),"y1"in $&&(d=f+$.y1),"y2"in $&&(k=f+$.y2),"x"in $&&(x+=$.x),"y"in $&&(f+=$.y)),V){case"m":case"M":case"l":case"L":case"h":case"H":case"v":case"V":(a={}).x=x,a.y=f,e.push(a);break;case"t":case"T":g>0&&/[QqTt]/.test(b.getItem(g-1).pathSegTypeAsLetter)?(S=w+(w-N),d=M+(M-L)):(S=w,d=M);case"q":case"Q":(R=GeometryUtil.QuadraticBezier.linearize({x:w,y:M},{x,y:f},{x:S,y:d},this.conf.tolerance)).shift();for(var G=0;G<R.length;G++)(a={}).x=R[G].x,a.y=R[G].y,e.push(a);break;case"s":case"S":g>0&&/[CcSs]/.test(b.getItem(g-1).pathSegTypeAsLetter)?(S=w+(w-P),d=M+(M-F)):(S=w,d=M);case"c":case"C":for((R=GeometryUtil.CubicBezier.linearize({x:w,y:M},{x,y:f},{x:S,y:d},{x:I,y:k},this.conf.tolerance)).shift(),G=0;G<R.length;G++)(a={}).x=R[G].x,a.y=R[G].y,e.push(a);break;case"a":case"A":var R;for((R=GeometryUtil.Arc.linearize({x:w,y:M},{x,y:f},$.r1,$.r2,$.angle,$.largeArcFlag,$.sweepFlag,this.conf.tolerance)).shift(),G=0;G<R.length;G++)(a={}).x=R[G].x,a.y=R[G].y,e.push(a);break;case"z":case"Z":x=A,f=v}"M"!=V&&"m"!=V||(A=x,v=f)}}for(;e.length>0&&GeometryUtil.almostEqual(e[0].x,e[e.length-1].x,this.conf.toleranceSvg)&&GeometryUtil.almostEqual(e[0].y,e[e.length-1].y,this.conf.toleranceSvg);)e.pop();return e};var a=new e;t.SvgParser={config:a.config.bind(a),load:a.load.bind(a),getStyle:a.getStyle.bind(a),clean:a.cleanInput.bind(a),polygonify:a.polygonify.bind(a)}}(window);