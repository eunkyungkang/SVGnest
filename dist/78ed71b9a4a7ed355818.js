/*! For license information please see 78ed71b9a4a7ed355818.js.LICENSE.txt */
!function(t){"use strict";var y=Math.pow(10,-9);function x(t,x,n){return n||(n=y),Math.abs(t-x)<n}function n(t,y,x){var n=t.x-y.x,e=t.y-y.y;return n*n+e*e<x*x}function e(t){return t*(Math.PI/180)}function r(t){return t*(180/Math.PI)}function l(t){if(x(t.x*t.x+t.y*t.y,1))return t;var y=1/Math.sqrt(t.x*t.x+t.y*t.y);return{x:t.x*y,y:t.y*y}}function i(t,n,e){if(x(t.x,n.x)&&x(e.x,t.x))return!x(e.y,n.y)&&!x(e.y,t.y)&&e.y<Math.max(n.y,t.y)&&e.y>Math.min(n.y,t.y);if(x(t.y,n.y)&&x(e.y,t.y))return!x(e.x,n.x)&&!x(e.x,t.x)&&e.x<Math.max(n.x,t.x)&&e.x>Math.min(n.x,t.x);if(e.x<t.x&&e.x<n.x||e.x>t.x&&e.x>n.x||e.y<t.y&&e.y<n.y||e.y>t.y&&e.y>n.y)return!1;if(x(e.x,t.x)&&x(e.y,t.y)||x(e.x,n.x)&&x(e.y,n.y))return!1;var r=(e.y-t.y)*(n.x-t.x)-(e.x-t.x)*(n.y-t.y);if(Math.abs(r)>y)return!1;var l=(e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y);if(l<0||x(l,0))return!1;var i=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y);return!(l>i||x(l,i))}function f(t,x,n,e,r){var l,i,f,a,s,h,u,o;l=x.y-t.y,f=t.x-x.x,s=x.x*t.y-t.x*x.y,i=e.y-n.y;var g=l*(a=n.x-e.x)-i*f;if(u=(f*(h=e.x*n.y-n.x*e.y)-a*s)/g,o=(i*s-l*h)/g,!isFinite(u)||!isFinite(o))return null;if(!r){if(Math.abs(t.x-x.x)>y&&(t.x<x.x?u<t.x||u>x.x:u>t.x||u<x.x))return null;if(Math.abs(t.y-x.y)>y&&(t.y<x.y?o<t.y||o>x.y:o>t.y||o<x.y))return null;if(Math.abs(n.x-e.x)>y&&(n.x<e.x?u<n.x||u>e.x:u>n.x||u<e.x))return null;if(Math.abs(n.y-e.y)>y&&(n.y<e.y?o<n.y||o>e.y:o>n.y||o<e.y))return null}return{x:u,y:o}}t.GeometryUtil={withinDistance:n,lineIntersect:f,almostEqual:x,QuadraticBezier:{isFlat:function(t,y,x,n){n*=4*n;var e=2*x.x-t.x-y.x;e*=e;var r=2*x.y-t.y-y.y;return e+(r*=r)<=n},linearize:function(t,y,x,n){for(var e=[t],r=[{p1:t,p2:y,c1:x}];r.length>0;){var l=r[0];if(this.isFlat(l.p1,l.p2,l.c1,n))e.push({x:l.p2.x,y:l.p2.y}),r.shift();else{var i=this.subdivide(l.p1,l.p2,l.c1,.5);r.splice(0,1,i[0],i[1])}}return e},subdivide:function(t,y,x,n){var e={x:t.x+(x.x-t.x)*n,y:t.y+(x.y-t.y)*n},r={x:x.x+(y.x-x.x)*n,y:x.y+(y.y-x.y)*n},l={x:e.x+(r.x-e.x)*n,y:e.y+(r.y-e.y)*n};return[{p1:t,p2:l,c1:e},{p1:l,p2:y,c1:r}]}},CubicBezier:{isFlat:function(t,y,x,n,e){e*=16*e;var r=3*x.x-2*t.x-y.x;r*=r;var l=3*x.y-2*t.y-y.y;l*=l;var i=3*n.x-2*y.x-t.x;i*=i;var f=3*n.y-2*y.y-t.y;return r<i&&(r=i),l<(f*=f)&&(l=f),r+l<=e},linearize:function(t,y,x,n,e){for(var r=[t],l=[{p1:t,p2:y,c1:x,c2:n}];l.length>0;){var i=l[0];if(this.isFlat(i.p1,i.p2,i.c1,i.c2,e))r.push({x:i.p2.x,y:i.p2.y}),l.shift();else{var f=this.subdivide(i.p1,i.p2,i.c1,i.c2,.5);l.splice(0,1,f[0],f[1])}}return r},subdivide:function(t,y,x,n,e){var r={x:t.x+(x.x-t.x)*e,y:t.y+(x.y-t.y)*e},l={x:n.x+(y.x-n.x)*e,y:n.y+(y.y-n.y)*e},i=x.x+(n.x-x.x)*e,f=x.y+(n.y-x.y)*e,a={x:r.x+(i-r.x)*e,y:r.y+(f-r.y)*e},s={x:i+(l.x-i)*e,y:f+(l.y-f)*e},h={x:a.x+(s.x-a.x)*e,y:a.y+(s.y-a.y)*e};return[{p1:t,p2:h,c1:r,c2:a},{p1:h,p2:y,c1:s,c2:l}]}},Arc:{linearize:function(t,y,x,e,r,l,i,f){for(var a=[y],s=this.svgToCenter(t,y,x,e,r,l,i),h=[s];h.length>0;){s=h[0];var u=this.centerToSvg(s.center,s.rx,s.ry,s.theta,s.extent,s.angle),o=this.centerToSvg(s.center,s.rx,s.ry,s.theta,.5*s.extent,s.angle).p2;if(n({x:.5*(u.p1.x+u.p2.x),y:.5*(u.p1.y+u.p2.y)},o,f))a.unshift(u.p2),h.shift();else{var g={center:s.center,rx:s.rx,ry:s.ry,theta:s.theta,extent:.5*s.extent,angle:s.angle},v={center:s.center,rx:s.rx,ry:s.ry,theta:s.theta+.5*s.extent,extent:.5*s.extent,angle:s.angle};h.splice(0,1,g,v)}}return a},centerToSvg:function(t,y,x,n,r,l){var i=n+r;n=e(n),i=e(i);var f=e(l),a=Math.cos(f),s=Math.sin(f),h=Math.cos(n),u=Math.sin(n),o=Math.cos(i),g=Math.sin(i);return{p1:{x:t.x+a*y*h+-s*x*u,y:t.y+s*y*h+a*x*u},p2:{x:t.x+a*y*o+-s*x*g,y:t.y+s*y*o+a*x*g},rx:y,ry:x,angle:f,largearc:r>180?1:0,sweep:r>0?1:0}},svgToCenter:function(t,y,x,n,l,i,f){var a=.5*(t.x+y.x),s=.5*(t.y+y.y),h=.5*(y.x-t.x),u=.5*(y.y-t.y),o=e(l%360),g=Math.cos(o),v=Math.sin(o),c=g*h+v*u,p=-v*h+g*u,M=(x=Math.abs(x))*x,d=(n=Math.abs(n))*n,m=c*c,b=p*p,P=m/M+b/d,k=Math.sqrt(P);P>1&&(M=(x*=k)*x,d=(n*=k)*n);var D=i!=f?-1:1,I=(M*d-M*b-d*m)/(M*b+d*m);I=I<0?0:I;var q=D*Math.sqrt(I),w=q*(x*p/n),B=q*(-n*c/x),A=a+(g*w-v*B),F=s+(v*w+g*B),S=(c-w)/x,z=(p-B)/n,T=(-c-w)/x,j=(-p-B)/n,C=Math.sqrt(S*S+z*z),E=S,G=(D=z<0?-1:1)*Math.acos(E/C);G=r(G),C=Math.sqrt((S*S+z*z)*(T*T+j*j)),E=S*T+z*j;var R=(D=S*j-z*T<0?-1:1)*Math.acos(E/C);return R=r(R),1==f&&R>0?R-=360:0==f&&R<0&&(R+=360),{center:{x:A,y:F},rx:x,ry:n,theta:G%=360,extent:R%=360,angle:l}}},getPolygonBounds:function(t){if(!t||t.length<3)return null;for(var y=t[0].x,x=t[0].x,n=t[0].y,e=t[0].y,r=1;r<t.length;r++)t[r].x>x?x=t[r].x:t[r].x<y&&(y=t[r].x),t[r].y>e?e=t[r].y:t[r].y<n&&(n=t[r].y);return{x:y,y:n,width:x-y,height:e-n}},pointInPolygon:function(t,y){if(!y||y.length<3)return null;for(var n=!1,e=y.offsetx||0,r=y.offsety||0,l=0,f=y.length-1;l<y.length;f=l++){var a=y[l].x+e,s=y[l].y+r,h=y[f].x+e,u=y[f].y+r;if(x(a,t.x)&&x(s,t.y))return null;if(i({x:a,y:s},{x:h,y:u},t))return null;x(a,h)&&x(s,u)||s>t.y!=u>t.y&&t.x<(h-a)*(t.y-s)/(u-s)+a&&(n=!n)}return n},polygonArea:function(t){var y,x,n=0;for(y=0,x=t.length-1;y<t.length;x=y++)n+=(t[x].x+t[y].x)*(t[x].y-t[y].y);return.5*n},intersect:function(t,y){var n=t.offsetx||0,e=t.offsety||0,r=y.offsetx||0,l=y.offsety||0;t=t.slice(0),y=y.slice(0);for(var a=0;a<t.length-1;a++)for(var s=0;s<y.length-1;s++){var h={x:t[a].x+n,y:t[a].y+e},u={x:t[a+1].x+n,y:t[a+1].y+e},o={x:y[s].x+r,y:y[s].y+l},g={x:y[s+1].x+r,y:y[s+1].y+l},v=0==s?y.length-1:s-1,c=0==a?t.length-1:a-1,p=s+1==y.length-1?0:s+2,M=a+1==t.length-1?0:a+2;(y[v]==y[s]||x(y[v].x,y[s].x)&&x(y[v].y,y[s].y))&&(v=0==v?y.length-1:v-1),(t[c]==t[a]||x(t[c].x,t[a].x)&&x(t[c].y,t[a].y))&&(c=0==c?t.length-1:c-1),(y[p]==y[s+1]||x(y[p].x,y[s+1].x)&&x(y[p].y,y[s+1].y))&&(p=p==y.length-1?0:p+1),(t[M]==t[a+1]||x(t[M].x,t[a+1].x)&&x(t[M].y,t[a+1].y))&&(M=M==t.length-1?0:M+1);var d={x:t[c].x+n,y:t[c].y+e},m={x:y[v].x+r,y:y[v].y+l},b={x:t[M].x+n,y:t[M].y+e},P={x:y[p].x+r,y:y[p].y+l};if(i(h,u,o)||x(h.x,o.x)&&x(h.y,o.y)){var k=this.pointInPolygon(m,t),D=this.pointInPolygon(g,t);if(!0===k&&!1===D||!1===k&&!0===D)return!0}else if(i(h,u,g)||x(u.x,g.x)&&x(u.y,g.y)){var I=this.pointInPolygon(o,t),q=this.pointInPolygon(P,t);if(!0===I&&!1===q||!1===I&&!0===q)return!0}else if(i(o,g,h)||x(h.x,g.x)&&x(h.y,g.y)){var w=this.pointInPolygon(d,y),B=this.pointInPolygon(u,y);if(!0===w&&!1===B||!1===w&&!0===B)return!0}else if(i(o,g,u)||x(u.x,o.x)&&x(u.y,o.y)){var A=this.pointInPolygon(h,y),F=this.pointInPolygon(b,y);if(!0===A&&!1===F||!1===A&&!0===F)return!0}else if(null!==f(o,g,h,u))return!0}return!1},polygonEdge:function(t,y){if(!t||t.length<3)return null;for(var n=-(y=l(y)).y,e=y.x,r=null,i=null,f=[],a=0;a<t.length;a++){var s=t[a].x*n+t[a].y*e;f.push(s),(null===r||s<r)&&(r=s),(null===i||s>i)&&(i=s)}var h=0,u=0,o=null,g=null;for(a=0;a<t.length;a++)x(f[a],r)?(s=t[a].x*y.x+t[a].y*y.y,(null===o||s>o)&&(o=s,h=a)):x(f[a],i)&&(s=t[a].x*y.x+t[a].y*y.y,(null===g||s>g)&&(g=s,u=a));var v=h-1,c=h+1;v<0&&(v=t.length-1),c>=t.length&&(c=0);var p=t[h],M=t[v],d=t[c],m=M.x-p.x,b=M.y-p.y,P=d.x-p.x,k=d.y-p.y,D=m*n+b*e,I=P*n+k*e,q=-1;if(x(D,0))q=1;else if(x(I,0))q=-1;else{var w,B;x(D,I)?(w=m*y.x+b*y.y,B=P*y.x+k*y.y):D<I?(w=m*y.x+b*y.y,B=(P*y.x+k*y.y)*(D/I)):(w=m*y.x+b*y.y*(I/D),B=P*y.x+k*y.y),q=w>B?-1:1}var A=[],F=0;for(a=h;F<t.length&&(a>=t.length?a=0:a<0&&(a=t.length-1),A.push(t[a]),a!=u);)a+=q,F++;return A},pointLineDistance:function(t,y,n,e,r,i){var f=(e=l(e)).y,a=-e.x,s=t.x*f+t.y*a,h=y.x*f+y.y*a,u=n.x*f+n.y*a,o=t.x*e.x+t.y*e.y,g=y.x*e.x+y.y*e.y,v=n.x*e.x+n.y*e.y;if(x(s,h)&&x(s,u)){if(x(o,g))return null;if(x(o,v))return null;if(o>g&&o>v)return Math.min(o-g,o-v);if(o<g&&o<v)return-Math.min(g-o,v-o);var c=o-g;return c>0?c:o-v}return x(s,h)?r?o-g:null:x(s,u)?i?o-v:null:s<h&&s<u||s>h&&s>u?null:o-g+(g-v)*(h-s)/(h-u)},pointDistance:function(t,y,n,e,r){var i=(e=l(e)).y,f=-e.x,a=t.x*i+t.y*f,s=y.x*i+y.y*f,h=n.x*i+n.y*f,u=t.x*e.x+t.y*e.y,o=y.x*e.x+y.y*e.y,g=n.x*e.x+n.y*e.y;if(!r){if((a<s||x(a,s))&&(a<h||x(a,h))||(a>s||x(a,s))&&(a>h||x(a,h)))return null;if(x(a,s)&&x(a,h)&&u>o&&u>g)return Math.min(u-o,u-g);if(x(a,s)&&x(a,h)&&u<o&&u<g)return-Math.min(o-u,g-u)}return-(u-o+(o-g)*(s-a)/(s-h))},segmentDistance:function(t,n,e,r,l){var i,f=l.y,a=-l.x,s={x:-l.x,y:-l.y},h=t.x*f+t.y*a,u=n.x*f+n.y*a,o=e.x*f+e.y*a,g=r.x*f+r.y*a,v=t.x*l.x+t.y*l.y,c=n.x*l.x+n.y*l.y,p=e.x*l.x+e.y*l.y,M=r.x*l.x+r.y*l.y,d=(Math.min(v,c),Math.max(v,c),Math.max(p,M),Math.min(p,M),Math.min(h,u)),m=Math.max(h,u),b=Math.max(o,g),P=Math.min(o,g);if(x(m,P,y)||x(d,b,y))return null;if(m<P||d>b)return null;i=m>b&&d<P||b>m&&P<d?1:(Math.min(m,b)-Math.max(d,P))/(Math.max(m,b)-Math.min(d,P));var k=(e.y-t.y)*(n.x-t.x)-(e.x-t.x)*(n.y-t.y),D=(r.y-t.y)*(n.x-t.x)-(r.x-t.x)*(n.y-t.y);if(x(k,0)&&x(D,0)){var I={x:n.y-t.y,y:t.x-n.x},q={x:r.y-e.y,y:e.x-r.x},w=Math.sqrt(I.x*I.x+I.y*I.y);I.x/=w,I.y/=w;var B=Math.sqrt(q.x*q.x+q.y*q.y);if(q.x/=B,q.y/=B,Math.abs(I.y*q.x-I.x*q.y)<y&&I.y*q.y+I.x*q.x<0){var A=I.y*l.y+I.x*l.x;if(x(A,0,y))return null;if(A<0)return 0}return null}var F=[];if(x(h,o))F.push(v-p);else if(x(h,g))F.push(v-M);else if(h>P&&h<b){if(null!==(j=this.pointDistance(t,e,r,s))&&x(j,0)){var S=this.pointDistance(n,e,r,s,!0);(S<0||x(S*i,0))&&(j=null)}null!==j&&F.push(j)}if(x(u,o))F.push(c-p);else if(x(u,g))F.push(c-M);else if(u>P&&u<b){if(null!==(j=this.pointDistance(n,e,r,s))&&x(j,0)){var z=this.pointDistance(t,e,r,s,!0);(z<0||x(z*i,0))&&(j=null)}null!==j&&F.push(j)}if(o>d&&o<m){if(null!==(j=this.pointDistance(e,t,n,l))&&x(j,0)){var T=this.pointDistance(r,t,n,l,!0);(T<0||x(T*i,0))&&(j=null)}null!==j&&F.push(j)}if(g>d&&g<m){var j;if(null!==(j=this.pointDistance(r,t,n,l))&&x(j,0)){var C=this.pointDistance(e,t,n,l,!0);(C<0||x(C*i,0))&&(j=null)}null!==j&&F.push(j)}return 0==F.length?null:Math.min.apply(Math,F)},polygonSlideDistance:function(t,y,n,e){var r,i,f,a,s,h,u,o;s=t.offsetx||0,h=t.offsety||0,u=y.offsetx||0,o=y.offsety||0,t=t.slice(0),y=y.slice(0),t[0]!=t[t.length-1]&&t.push(t[0]),y[0]!=y[y.length-1]&&y.push(y[0]);for(var g,v=t,c=y,p=null,M=l(n),d=(M.y,M.x,M.x,M.y,0);d<c.length-1;d++)for(var m=0;m<v.length-1;m++)r={x:v[m].x+s,y:v[m].y+h},i={x:v[m+1].x+s,y:v[m+1].y+h},f={x:c[d].x+u,y:c[d].y+o},a={x:c[d+1].x+u,y:c[d+1].y+o},x(r.x,i.x)&&x(r.y,i.y)||x(f.x,a.x)&&x(f.y,a.y)||null!==(g=this.segmentDistance(r,i,f,a,M))&&(null===p||g<p)&&(!e||g>0||x(g,0))&&(p=g);return p},polygonProjectionDistance:function(t,x,n){var e=x.offsetx||0,r=x.offsety||0,l=t.offsetx||0,i=t.offsety||0;t=t.slice(0),x=x.slice(0),t[0]!=t[t.length-1]&&t.push(t[0]),x[0]!=x[x.length-1]&&x.push(x[0]);for(var f,a,s,h,u=t,o=x,g=null,v=0;v<o.length;v++){for(var c=null,p=0;p<u.length-1;p++)f={x:o[v].x+e,y:o[v].y+r},s={x:u[p].x+l,y:u[p].y+i},h={x:u[p+1].x+l,y:u[p+1].y+i},Math.abs((h.y-s.y)*n.x-(h.x-s.x)*n.y)<y||null!==(a=this.pointDistance(f,s,h,n))&&(null===c||a<c)&&(c=a);null!==c&&(null===g||c>g)&&(g=c)}return g},searchStartPoint:function(t,y,n,e){t=t.slice(0),y=y.slice(0),t[0]!=t[t.length-1]&&t.push(t[0]),y[0]!=y[y.length-1]&&y.push(y[0]);for(var r=0;r<t.length-1;r++)if(!t[r].marked){t[r].marked=!0;for(var l=0;l<y.length;l++){y.offsetx=t[r].x-y[l].x,y.offsety=t[r].y-y[l].y;for(var i=null,f=0;f<y.length;f++)if(null!==(p=this.pointInPolygon({x:y[f].x+y.offsetx,y:y[f].y+y.offsety},t))){i=p;break}if(null===i)return null;var a={x:y.offsetx,y:y.offsety};if((i&&n||!i&&!n)&&!this.intersect(t,y)&&!M(a,e))return a;var s=t[r+1].x-t[r].x,h=t[r+1].y-t[r].y,u=this.polygonProjectionDistance(t,y,{x:s,y:h}),o=this.polygonProjectionDistance(y,t,{x:-s,y:-h}),g=null;if(null===u&&null===o||(g=null===u?o:null===o?u:Math.min(u,o)),null!==g&&!x(g,0)&&g>0){var v=s*s+h*h;if(g*g<v&&!x(g*g,v)){var c=Math.sqrt(s*s+h*h);s*=g/c,h*=g/c}for(y.offsetx+=s,y.offsety+=h,f=0;f<y.length;f++){var p;if(null!==(p=this.pointInPolygon({x:y[f].x+y.offsetx,y:y[f].y+y.offsety},t))){i=p;break}}if(a={x:y.offsetx,y:y.offsety},(i&&n||!i&&!n)&&!this.intersect(t,y)&&!M(a,e))return a}}}function M(t,y){if(!y||0==y.length)return!1;for(var n=0;n<y.length;n++)for(var e=0;e<y[n].length;e++)if(x(t.x,y[n][e].x)&&x(t.y,y[n][e].y))return!0;return!1}return null},isRectangle:function(t,n){var e=this.getPolygonBounds(t);n=n||y;for(var r=0;r<t.length;r++){if(!x(t[r].x,e.x)&&!x(t[r].x,e.x+e.width))return!1;if(!x(t[r].y,e.y)&&!x(t[r].y,e.y+e.height))return!1}return!0},noFitPolygonRectangle:function(t,y){for(var x=t[0].x,n=t[0].y,e=t[0].x,r=t[0].y,l=1;l<t.length;l++)t[l].x<x&&(x=t[l].x),t[l].y<n&&(n=t[l].y),t[l].x>e&&(e=t[l].x),t[l].y>r&&(r=t[l].y);var i=y[0].x,f=y[0].y,a=y[0].x,s=y[0].y;for(l=1;l<y.length;l++)y[l].x<i&&(i=y[l].x),y[l].y<f&&(f=y[l].y),y[l].x>a&&(a=y[l].x),y[l].y>s&&(s=y[l].y);return a-i>e-x||s-f>r-n?null:[[{x:x-i+y[0].x,y:n-f+y[0].y},{x:e-a+y[0].x,y:n-f+y[0].y},{x:e-a+y[0].x,y:r-s+y[0].y},{x:x-i+y[0].x,y:r-s+y[0].y}]]},noFitPolygon:function(t,y,n,e){if(!t||t.length<3||!y||y.length<3)return null;var r,l;t.offsetx=0,t.offsety=0;var f=t[0].y,a=0,s=y[0].y,h=0;for(r=1;r<t.length;r++)t[r].marked=!1,t[r].y<f&&(f=t[r].y,a=r);for(r=1;r<y.length;r++)y[r].marked=!1,y[r].y>s&&(s=y[r].y,h=r);if(n)u=this.searchStartPoint(t,y,!0);else var u={x:t[a].x-y[h].x,y:t[a].y-y[h].y};for(var o=[];null!==u;){var g;y.offsetx=u.x,y.offsety=u.y;for(var v=null,c=[{x:y[0].x+y.offsetx,y:y[0].y+y.offsety}],p=y[0].x+y.offsetx,M=y[0].y+y.offsety,d=p,m=M,b=0;b<10*(t.length+y.length);){for(g=[],r=0;r<t.length;r++){var P=r==t.length-1?0:r+1;for(l=0;l<y.length;l++){var k=l==y.length-1?0:l+1;x(t[r].x,y[l].x+y.offsetx)&&x(t[r].y,y[l].y+y.offsety)?g.push({type:0,A:r,B:l}):i(t[r],t[P],{x:y[l].x+y.offsetx,y:y[l].y+y.offsety})?g.push({type:1,A:P,B:l}):i({x:y[l].x+y.offsetx,y:y[l].y+y.offsety},{x:y[k].x+y.offsetx,y:y[k].y+y.offsety},t[r])&&g.push({type:2,A:r,B:k})}}var D=[];for(r=0;r<g.length;r++){var I=t[g[r].A];I.marked=!0;var q=g[r].A-1,w=g[r].A+1;q=q<0?t.length-1:q,w=w>=t.length?0:w;var B=t[q],A=t[w],F=y[g[r].B],S=g[r].B-1,z=g[r].B+1;S=S<0?y.length-1:S,z=z>=y.length?0:z;var T=y[S],j=y[z];if(0==g[r].type){var C={x:B.x-I.x,y:B.y-I.y,start:I,end:B},E={x:A.x-I.x,y:A.y-I.y,start:I,end:A},G={x:F.x-T.x,y:F.y-T.y,start:T,end:F},R={x:F.x-j.x,y:F.y-j.y,start:j,end:F};D.push(C),D.push(E),D.push(G),D.push(R)}else 1==g[r].type?(D.push({x:I.x-(F.x+y.offsetx),y:I.y-(F.y+y.offsety),start:B,end:I}),D.push({x:B.x-(F.x+y.offsetx),y:B.y-(F.y+y.offsety),start:I,end:B})):2==g[r].type&&(D.push({x:I.x-(F.x+y.offsetx),y:I.y-(F.y+y.offsety),start:T,end:F}),D.push({x:I.x-(T.x+y.offsetx),y:I.y-(T.y+y.offsety),start:F,end:T}))}var U=null,H=0;for(r=0;r<D.length;r++)if(0!=D[r].x||0!=D[r].y){if(v&&D[r].y*v.y+D[r].x*v.x<0){var L=Math.sqrt(D[r].x*D[r].x+D[r].y*D[r].y),Q={x:D[r].x/L,y:D[r].y/L},J=Math.sqrt(v.x*v.x+v.y*v.y),K={x:v.x/J,y:v.y/J};if(Math.abs(Q.y*K.x-Q.x*K.y)<1e-4)continue}var N=this.polygonSlideDistance(t,y,D[r],!0),O=D[r].x*D[r].x+D[r].y*D[r].y;(null===N||N*N>O)&&(N=Math.sqrt(D[r].x*D[r].x+D[r].y*D[r].y)),null!==N&&N>H&&(H=N,U=D[r])}if(null===U||x(H,0)){c=null;break}U.start.marked=!0,U.end.marked=!0,v=U;var V=U.x*U.x+U.y*U.y;if(H*H<V&&!x(H*H,V)){var W=Math.sqrt(H*H/V);U.x*=W,U.y*=W}if(p+=U.x,M+=U.y,x(p,d)&&x(M,m))break;var X=!1;if(c.length>0)for(r=0;r<c.length-1;r++)x(p,c[r].x)&&x(M,c[r].y)&&(X=!0);if(X)break;c.push({x:p,y:M}),y.offsetx+=U.x,y.offsety+=U.y,b++}if(c&&c.length>0&&o.push(c),!e)break;u=this.searchStartPoint(t,y,n,o)}return o},polygonHull:function(t,y){if(!t||t.length<3||!y||y.length<3)return null;var n,e,r=t.offsetx||0,l=t.offsety||0,f=y.offsetx||0,a=y.offsety||0,s=t[0].y,h=t,u=0;for(n=0;n<t.length;n++)t[n].y+l<s&&(s=t[n].y+l,h=t,u=n);for(n=0;n<y.length;n++)y[n].y+a<s&&(s=y[n].y+a,h=y,u=n);h==y&&(y=t,r=(t=h).offsetx||0,l=t.offsety||0,f=y.offsetx||0,a=y.offsety||0),t=t.slice(0),y=y.slice(0);var o=[],g=u,v=null,c=null;for(n=0;n<t.length+1;n++){var p=(g=g==t.length?0:g)==t.length-1?0:g+1,M=!1;for(e=0;e<y.length;e++){var d=e==y.length-1?0:e+1;if(x(t[g].x+r,y[e].x+f)&&x(t[g].y+l,y[e].y+a)){o.push({x:t[g].x+r,y:t[g].y+l}),v=e,M=!0;break}if(i({x:t[g].x+r,y:t[g].y+l},{x:t[p].x+r,y:t[p].y+l},{x:y[e].x+f,y:y[e].y+a})){o.push({x:t[g].x+r,y:t[g].y+l}),o.push({x:y[e].x+f,y:y[e].y+a}),v=e,M=!0;break}if(i({x:y[e].x+f,y:y[e].y+a},{x:y[d].x+f,y:y[d].y+a},{x:t[g].x+r,y:t[g].y+l})){o.push({x:t[g].x+r,y:t[g].y+l}),o.push({x:y[d].x+f,y:y[d].y+a}),v=d,M=!0;break}}if(M)break;o.push({x:t[g].x+r,y:t[g].y+l}),g++}for(g=u-1,n=0;n<t.length+1;n++){for(p=0==(g=g<0?t.length-1:g)?t.length-1:g-1,M=!1,e=0;e<y.length;e++){if(d=e==y.length-1?0:e+1,x(t[g].x+r,y[e].x+f)&&x(t[g].y,y[e].y+a)){o.unshift({x:t[g].x+r,y:t[g].y+l}),c=e,M=!0;break}if(i({x:t[g].x+r,y:t[g].y+l},{x:t[p].x+r,y:t[p].y+l},{x:y[e].x+f,y:y[e].y+a})){o.unshift({x:t[g].x+r,y:t[g].y+l}),o.unshift({x:y[e].x+f,y:y[e].y+a}),c=e,M=!0;break}if(i({x:y[e].x+f,y:y[e].y+a},{x:y[d].x+f,y:y[d].y+a},{x:t[g].x+r,y:t[g].y+l})){o.unshift({x:t[g].x+r,y:t[g].y+l}),c=e,M=!0;break}}if(M)break;o.unshift({x:t[g].x+r,y:t[g].y+l}),g--}if(null===v||null===c)return null;for(g=v+1,n=0;n<y.length&&(g=g==y.length?0:g,o.push({x:y[g].x+f,y:y[g].y+a}),g!=c);n++)g++;for(n=0;n<o.length;n++)p=n==o.length-1?0:n+1,x(o[n].x,o[p].x)&&x(o[n].y,o[p].y)&&(o.splice(n,1),n--);return o},rotatePolygon:function(t,y){var x=[];y=y*Math.PI/180;for(var n=0;n<t.length;n++){var e=t[n].x,r=t[n].y,l=e*Math.cos(y)-r*Math.sin(y),i=e*Math.sin(y)+r*Math.cos(y);x.push({x:l,y:i})}var f=GeometryUtil.getPolygonBounds(x);return x.x=f.x,x.y=f.y,x.width=f.width,x.height=f.height,x}}}("undefined"!=typeof window?window:self);